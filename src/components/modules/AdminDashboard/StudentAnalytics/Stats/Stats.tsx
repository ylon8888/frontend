'use client';


// Map of icon names to their components
const iconMap = {
  rate: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="28"
      height="22"
      viewBox="0 0 28 22"
      fill="none"
    >
      <path
        d="M26.7316 0.572754H22.8672C22.8766 0.611445 22.8861 0.65108 22.8936 0.690716C22.8936 0.707702 22.8993 0.725632 22.9012 0.742619C22.903 0.759605 22.9106 0.801128 22.9134 0.831326L22.9191 0.887004V0.997416V1.02573V7.04554V7.07291V7.18427L22.9134 7.23994C22.9134 7.27014 22.9059 7.30034 22.9012 7.3296C22.8964 7.35885 22.8964 7.36357 22.8936 7.37961C22.8861 7.42019 22.8766 7.45983 22.8672 7.49852H26.7316C26.8517 7.49852 26.9669 7.45079 27.0519 7.36585C27.1368 7.2809 27.1846 7.16568 27.1846 7.04554V1.02195C27.1836 0.902471 27.1354 0.788223 27.0506 0.704088C26.9657 0.619954 26.8511 0.57275 26.7316 0.572754Z"
        fill="#0B7077"
      />
      <path
        d="M21.7907 7.04164V1.02182C21.7907 0.745317 21.6378 0.568848 21.5321 0.568848H0.259514C0.153821 0.568848 0 0.745318 0 1.02276V7.04258C0 7.31908 0.153821 7.4965 0.259514 7.4965H21.5321C21.6378 7.49461 21.7907 7.31814 21.7907 7.04164Z"
        fill="#0B7077"
      />
      <path
        d="M26.7297 14.5029H10.9305V14.5256C10.938 14.5822 10.9447 14.6398 10.9494 14.6983V14.7379C10.9494 14.8087 10.9579 14.8814 10.9579 14.9568V20.9767C10.9579 21.0493 10.9579 21.1192 10.9503 21.1881L10.9447 21.2522C10.9447 21.2919 10.9371 21.3306 10.9324 21.3692C10.9324 21.3891 10.9324 21.4108 10.9258 21.4306H26.7297C26.7893 21.4305 26.8483 21.4186 26.9034 21.3957C26.9584 21.3727 27.0084 21.3392 27.0504 21.297C27.0925 21.2547 27.1258 21.2046 27.1485 21.1495C27.1712 21.0944 27.1828 21.0353 27.1827 20.9757V14.9559C27.1827 14.8358 27.135 14.7206 27.05 14.6356C26.9651 14.5507 26.8499 14.5029 26.7297 14.5029Z"
        fill="#0B7077"
      />
      <path
        d="M9.82787 14.842C9.82787 14.8269 9.82787 14.8118 9.82787 14.7967C9.82787 14.7656 9.8222 14.7354 9.81843 14.7024C9.81843 14.6882 9.81843 14.6759 9.81277 14.6637C9.8071 14.6514 9.80616 14.6231 9.80238 14.6042C9.79861 14.5854 9.79767 14.5778 9.79484 14.5655C9.79201 14.5533 9.78634 14.5297 9.78162 14.5136C9.77691 14.4976 9.78162 14.5033 9.78162 14.4985H0.0597411C0.0207032 14.6466 0.0019729 14.7993 0.00406379 14.9525V20.9723C0.00203513 21.1251 0.0207651 21.2775 0.0597411 21.4252H9.77974C9.77974 21.4252 9.77974 21.4158 9.77974 21.4101C9.77974 21.4045 9.78823 21.3781 9.79201 21.3611C9.79578 21.3441 9.79861 21.3328 9.80144 21.3177C9.80427 21.3026 9.8071 21.2809 9.81088 21.262L9.81654 21.2214C9.81654 21.1931 9.82315 21.1638 9.82504 21.1327C9.826 21.117 9.826 21.1012 9.82504 21.0855C9.82504 21.0591 9.82504 21.0317 9.82504 21.0025C9.82504 20.9921 9.82504 20.9826 9.82504 20.9713V14.9223C9.8307 14.8977 9.82975 14.8694 9.82787 14.842Z"
        fill="#0B7077"
      />
    </svg>
  ),
  graduationCap: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
    >
      <g clipPath="url(#clip0_882_5867)">
        <path
          d="M0.740234 3.09375L1.73435 2.09963L3.80428 4.16956L2.81016 5.16368L0.740234 3.09375Z"
          fill="#0B7077"
        />
        <path d="M0 7.03125H2.86214V8.4375H0V7.03125Z" fill="#0B7077" />
        <path
          d="M0.755371 12.3569L2.82325 10.2891L3.81737 11.2832L1.74949 13.3511L0.755371 12.3569Z"
          fill="#0B7077"
        />
        <path
          d="M20.1929 4.17139L22.2628 2.10146L23.2569 3.09558L21.187 5.16551L20.1929 4.17139Z"
          fill="#0B7077"
        />
        <path
          d="M21.1377 7.03125H23.9998V8.4375H21.1377V7.03125Z"
          fill="#0B7077"
        />
        <path
          d="M20.1772 11.2852L21.1714 10.291L23.2392 12.3589L22.2451 13.353L20.1772 11.2852Z"
          fill="#0B7077"
        />
        <path
          d="M12 24C13.9384 24 15.5156 22.4228 15.5156 20.4844V18.2812H8.48438V20.4844C8.48438 22.4228 10.0616 24 12 24Z"
          fill="#0B7077"
        />
        <path
          d="M19.6164 6.36862C18.9778 2.67862 15.7746 0 12.0002 0C8.22568 0 5.02248 2.67862 4.3839 6.36933C3.94168 8.92641 4.78698 11.5185 6.64501 13.3017C7.64031 14.2573 8.24523 15.5337 8.4115 16.875H15.5889C15.7554 15.5331 16.3602 14.2571 17.3553 13.3017C19.2134 11.5185 20.0586 8.92641 19.6164 6.36862ZM12.7033 12.6562H11.297V11.25H12.7033V12.6562ZM13.2499 8.02748C12.9076 8.27953 12.7033 8.68322 12.7033 9.10744V9.84375H11.297V9.10744C11.297 8.23805 11.7154 7.41103 12.4162 6.89508C12.5987 6.76073 12.7033 6.55411 12.7033 6.32812C12.7033 5.94042 12.3879 5.625 12.0002 5.625C11.6124 5.625 11.297 5.94042 11.297 6.32812V7.03125H9.89078V6.32812C9.89078 5.16502 10.837 4.21875 12.0002 4.21875C13.1633 4.21875 14.1095 5.16502 14.1095 6.32812C14.1095 6.99591 13.7882 7.6312 13.2499 8.02748Z"
          fill="#0B7077"
        />
      </g>
      <defs>
        <clipPath id="clip0_882_5867">
          <rect width="24" height="24" fill="white" />
        </clipPath>
      </defs>
    </svg>
  ),
  right: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
    >
      <g clipPath="url(#clip0_882_5883)">
        <path
          d="M12 0C5.38293 0 0 5.38293 0 12C0 18.6171 5.38293 24 12 24C18.6171 24 24 18.6171 24 12C24 5.38293 18.6171 0 12 0ZM18.082 9.45703L11.582 15.9569C11.387 16.1519 11.131 16.2501 10.875 16.2501C10.619 16.2501 10.363 16.1519 10.168 15.9569L6.91809 12.707C6.52698 12.316 6.52698 11.684 6.91809 11.293C7.30902 10.9019 7.94092 10.9019 8.33203 11.293L10.875 13.836L16.6681 8.04309C17.059 7.65198 17.6909 7.65198 18.082 8.04309C18.473 8.43402 18.473 9.06592 18.082 9.45703Z"
          fill="#0B7077"
        />
      </g>
      <defs>
        <clipPath id="clip0_882_5883">
          <rect width="24" height="24" fill="white" />
        </clipPath>
      </defs>
    </svg>
  ),
  wrong: (
<svg
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
>
  <path
    d="M12 2C6.47 2 2 6.47 2 12C2 17.53 6.47 22 12 22C17.53 22 22 17.53 22 12C22 6.47 17.53 2 12 2ZM16.36 16.36C15.93 16.79 15.24 16.79 14.81 16.36L12 13.55L9.19 16.36C8.76 16.79 8.07 16.79 7.64 16.36C7.21 15.93 7.21 15.24 7.64 14.81L10.45 12L7.64 9.19C7.21 8.76 7.21 8.07 7.64 7.64C8.07 7.21 8.76 7.21 9.19 7.64L12 10.45L14.81 7.64C15.24 7.21 15.93 7.21 16.36 7.64C16.79 8.07 16.79 8.76 16.36 9.19L13.55 12L16.36 14.81C16.79 15.24 16.79 15.93 16.36 16.36Z"
    fill="#0B7077"
  />
</svg>
  ),
};

const Stats = ({ apiResponse }: { apiResponse: any }) => {
  // Define the StatCardData type
  type StatCardData = {
    id: number;
    value: string;
    label: string;
    icon: keyof typeof iconMap;
  };

  // Function to transform your API response to StatCardData format
  function transformToStatCards(apiData: any): StatCardData[] {
    return [
      {
        id: 1,
        value: `${apiData.courseEnroll.correctRate}%`,
        label: 'Correct Answer Rate',
        icon: 'rate',
      },
      {
        id: 2,
        value: apiData.courseEnroll.quizPracticed.toString(),
        label: 'Quiz Practiced',
        icon: 'graduationCap',
      },
      {
        id: 3,
        value: apiData.courseEnroll.correctQuiz.toString(),
        label: 'Correct Quizzes',
        icon: 'right',
      },
      {
        id: 4,
        value: apiData.courseEnroll.wrongQuiz.toString(),
        label: 'Wrong Quizzes',
        icon: 'wrong',
      },
    ];
  }

  const statData: StatCardData[] = transformToStatCards(apiResponse);

  return (
    <div className="w-full">
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        {statData.map((stat) => {
          return (
            <div
              key={stat.id}
              className="bg-white rounded-lg shadow-sm p-6 flex flex-col"
            >
              <div className="flex items-center gap-3">
                {iconMap[stat.icon]}

                <span className="text-3xl font-bold text-gray-900">
                  {stat.value}
                </span>
              </div>
              <span className="text-gray-500 mt-2 text-base">{stat.label}</span>
            </div>
          );
        })}
      </div>
    </div>
  );
};

export default Stats;
